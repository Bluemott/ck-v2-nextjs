# CORRECTED .htaccess Code - Remove <LocationMatch> Block
# This code works in .htaccess files

# Block WordPress REST API and feeds from search engines
<IfModule mod_rewrite.c>
RewriteEngine On

# Block wp-json endpoints on main domain only (allow on subdomains)
RewriteCond %{HTTP_HOST} ^(www\.)?cowboykimono\.com$ [NC]
RewriteRule ^wp-json/ - [F,L]

# Block feed URLs on main domain only
RewriteCond %{HTTP_HOST} ^(www\.)?cowboykimono\.com$ [NC]
RewriteRule ^feed/?$ - [F,L]
RewriteRule ^.*/feed/?$ - [F,L]

# Redirect old WordPress date-based URLs to new blog structure
RewriteRule ^([0-9]{4})/([0-9]{2})/([0-9]{2})/(.+)$ https://cowboykimono.com/blog/$4 [R=301,L]

# Redirect old category URLs
RewriteRule ^category/(.+)$ https://cowboykimono.com/blog/category/$1 [R=301,L]

# Redirect old tag URLs
RewriteRule ^tag/(.+)$ https://cowboykimono.com/blog/tag/$1 [R=301,L]

# Redirect old author URLs
RewriteRule ^author/(.+)$ https://cowboykimono.com/blog [R=301,L]

# Redirect www to non-www
RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
RewriteRule ^(.*)$ https://%1/$1 [R=301,L]
</IfModule>

# NOTE: The X-Robots-Tag header from <LocationMatch> is removed
# robots.txt already handles blocking search engines, so this isn't needed

